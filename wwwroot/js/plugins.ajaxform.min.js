window.scwAjaxFormPlugin=window.scwAjaxFormPlugin||{},window.SEMICOLON_ajaxFormInit=function(e){if((e=e.filter(":not(.customjs)")).length<1)return!0;e.each((function(){let e,t,r=$(this),a=$("body"),n=r.find("form").attr("id"),s=r.attr("data-alert-type"),i=r.attr("data-loader"),o=r.find(".form-result"),l=r.attr("data-redirect");s||(s="notify"),n&&a.addClass(n+"-ready"),r.find("form").validate({errorPlacement:function(e,t){t.parents(".form-group").length>0?e.appendTo(t.parents(".form-group")):e.insertAfter(t)},focusCleanup:!0,submitHandler:function(r){o.hide(),"button"==i?(e=$(r).find("button"),defButtonText=e.html(),e.html('<i class="icon-line-loader icon-spin m-0"></i>')):$(r).find(".form-process").fadeIn(),n&&a.removeClass(n+"-ready "+n+"-complete "+n+"-success "+n+"-error").addClass(n+"-processing"),$(r).ajaxSubmit({target:o,dataType:"json",success:function(c){if("button"==i?e.html(defButtonText):$(r).find(".form-process").fadeOut(),"error"!=c.alert&&l)return window.location.replace(l),!0;if("inline"==s?(t="error"==c.alert?"alert-danger":"alert-success",o.removeClass("alert-danger alert-success").addClass("alert "+t).html(c.message).slideDown(400)):"notify"==s&&(o.attr("data-notify-type",c.alert).attr("data-notify-msg",c.message).html(""),SEMICOLON.widget.notifications({el:o})),"error"!=c.alert){$(r).resetForm(),$(r).find(".btn-group > .btn").removeClass("active"),"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&!tinyMCE.activeEditor.isHidden()&&tinymce.activeEditor.setContent("");let e=$(r).find(".input-range-slider");e.length>0&&e.each((function(){$(this).data("ionRangeSlider").reset()}));let t=$(r).find(".input-rating");t.length>0&&t.each((function(){$(this).rating("reset")}));let s=$(r).find(".selectpicker");s.length>0&&s.each((function(){$(this).selectpicker("val",""),$(this).selectpicker("deselectAll")})),$(r).find(".input-select2,select[data-selectsplitter-firstselect-selector]").change(),$(r).trigger("formSubmitSuccess"),a.removeClass(n+"-error").addClass(n+"-success")}else $(r).trigger("formSubmitError"),a.removeClass(n+"-success").addClass(n+"-error");n&&a.removeClass(n+"-processing").addClass(n+"-complete"),$(r).find(".g-recaptcha").children("div").length>0&&grecaptcha.reset()}})}})}))};