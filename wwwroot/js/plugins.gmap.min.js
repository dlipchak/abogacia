/**
 * jQuery gMap - Google Maps API V3
 *
 * @license MIT License; https://www.opensource.org/licenses/mit-license.php
 * @url   https://github.com/marioestrada/jQuery-gMap
 * @author  Mario Estrada <me@mario.ec> based on original plugin by Cedric Kastner <cedric@nur-text.de>
 * @version 2.2
 */
!function(e){e.fn.gMap=function(o,a){switch(o){case"addMarker":return e(this).trigger("gMap.addMarker",[a.latitude,a.longitude,a.content,a.icon,a.popup]);case"centerAt":return e(this).trigger("gMap.centerAt",[a.latitude,a.longitude,a.zoom]);case"clearMarkers":return e(this).trigger("gMap.clearMarkers")}var t=e.extend({},e.fn.gMap.defaults,o);return this.each((function(){var o=new google.maps.Map(this);e(this).data("gMap.reference",o);var a=new google.maps.Geocoder;t.address?a.geocode({address:t.address},(function(e){e&&e.length&&o.setCenter(e[0].geometry.location)})):t.latitude&&t.longitude?o.setCenter(new google.maps.LatLng(t.latitude,t.longitude)):e.isArray(t.markers)&&t.markers.length>0?t.markers[0].address?a.geocode({address:t.markers[0].address},(function(e){e&&e.length>0&&o.setCenter(e[0].geometry.location)})):o.setCenter(new google.maps.LatLng(t.markers[0].latitude,t.markers[0].longitude)):o.setCenter(new google.maps.LatLng(34.885931,9.84375)),o.setZoom(t.zoom),o.setMapTypeId(google.maps.MapTypeId[t.maptype]);var n={scrollwheel:t.scrollwheel,disableDoubleClickZoom:!t.doubleclickzoom};!1===t.controls?e.extend(n,{disableDefaultUI:!0}):0!==t.controls.length&&e.extend(n,t.controls,{disableDefaultUI:!0}),o.setOptions(n),o.setOptions({styles:t.styles});var r,s,i=new google.maps.Marker;(r=new google.maps.MarkerImage(t.icon.image)).size=new google.maps.Size(t.icon.iconsize[0],t.icon.iconsize[1]),r.anchor=new google.maps.Point(t.icon.iconanchor[0],t.icon.iconanchor[1]),i.setIcon(r),t.icon.shadow&&((s=new google.maps.MarkerImage(t.icon.shadow)).size=new google.maps.Size(t.icon.shadowsize[0],t.icon.shadowsize[1]),s.anchor=new google.maps.Point(t.icon.shadowanchor[0],t.icon.shadowanchor[1]),i.setShadow(s)),e(this).bind("gMap.centerAt",(function(e,a,t,n){n&&o.setZoom(n),o.panTo(new google.maps.LatLng(parseFloat(a),parseFloat(t)))}));var l,d=[];e(this).bind("gMap.clearMarkers",(function(){for(;d[0];)d.pop().setMap(null)})),e(this).bind("gMap.addMarker",(function(e,a,n,r,s,g){var c,p,m=new google.maps.LatLng(parseFloat(a),parseFloat(n)),h=new google.maps.Marker({position:m});if(s?((c=new google.maps.MarkerImage(s.image)).size=new google.maps.Size(s.iconsize[0],s.iconsize[1]),c.anchor=new google.maps.Point(s.iconanchor[0],s.iconanchor[1]),h.setIcon(c),s.shadow&&((p=new google.maps.MarkerImage(s.shadow)).size=new google.maps.Size(s.shadowsize[0],s.shadowsize[1]),p.anchor=new google.maps.Point(s.shadowanchor[0],s.shadowanchor[1]),i.setShadow(p))):(h.setIcon(i.getIcon()),h.setShadow(i.getShadow())),r){"_latlng"===r&&(r=a+", "+n);var w=new google.maps.InfoWindow({content:t.html_prepend+r+t.html_append});google.maps.event.addListener(h,"click",(function(){l&&l.close(),w.open(o,h),l=w})),g&&google.maps.event.addListenerOnce(o,"tilesloaded",(function(){w.open(o,h)}))}h.setMap(o),d.push(h)}));for(var g,c=this,p=function(o){return function(a){a&&a.length>0&&e(c).trigger("gMap.addMarker",[a[0].geometry.location.lat(),a[0].geometry.location.lng(),o.html,o.icon,o.popup])}},m=0;m<t.markers.length;m++)(g=t.markers[m]).address?("_address"===g.html&&(g.html=g.address),a.geocode({address:g.address},p(g))):e(this).trigger("gMap.addMarker",[g.latitude,g.longitude,g.html,g.icon,g.popup])}))},e.fn.gMap.defaults={address:"",latitude:0,longitude:0,zoom:1,markers:[],controls:[],styles:[],scrollwheel:!1,doubleclickzoom:!0,maptype:"ROADMAP",html_prepend:'<div class="gmap_marker">',html_append:"</div>",icon:{image:"https://www.google.com/mapfiles/marker.png",shadow:"https://www.google.com/mapfiles/shadow50.png",iconsize:[20,34],shadowsize:[37,34],iconanchor:[9,34],shadowanchor:[6,34]}}}(jQuery),window.SEMICOLON_gmapInit=function(e){if((e=e.filter(":not(.customjs)")).length<1)return!0;e.each((function(){let e=$(this),o=e.attr("data-latitude"),a=e.attr("data-longitude"),t=e.attr("data-address"),n=e.attr("data-content"),r=e.attr("data-scrollwheel")||!0,s=e.attr("data-maptype")||"ROADMAP",i=e.attr("data-zoom")||12,l=e.attr("data-styles"),d=e.attr("data-markers"),g=e.attr("data-icon"),c=e.attr("data-control-pan")||!1,p=e.attr("data-control-zoom")||!1,m=e.attr("data-control-maptype")||!1,h=e.attr("data-control-scale")||!1,w=e.attr("data-control-streetview")||!1,u=e.attr("data-control-overview")||!1;if(t)o=a=!1;else if(!o&&!a)return console.log("Google Map co-ordinates not entered."),!0;l&&(l=JSON.parse(l)),"false"==r&&(r=!1),"true"==c&&(c=!0),"true"==p&&(p=!0),"true"==m&&(m=!0),"true"==h&&(h=!0),"true"==w&&(w=!0),"true"==u&&(u=!0),d=d?Function("return "+d)():t?[{address:t,html:n||t}]:[{latitude:o,longitude:a,html:n||!1}],g=g?Function("return "+g)():{image:"https://www.google.com/mapfiles/marker.png",shadow:"https://www.google.com/mapfiles/shadow50.png",iconsize:[20,34],shadowsize:[37,34],iconanchor:[9,34],shadowanchor:[19,34]},e.gMap({controls:{panControl:c,zoomControl:p,mapTypeControl:m,scaleControl:h,streetViewControl:w,overviewMapControl:u},scrollwheel:r,maptype:s,markers:d,icon:g,latitude:o,longitude:a,address:t,zoom:Number(i),styles:l})}))};