window.scwOnePageModulePlugin=window.scwOnePageModulePlugin||{};let $onePageMenu,$pageSectionEl,onePageMenuActiveClass,windowEl=$(window),windowWidth=windowEl.width(),$body=$("body"),locationHash=location.hash;window.SEMICOLON_onePageModule=function(e){if($onePageMenu=e.filter(":not(.customjs)"),$onePageMenu.length<1)return!0;if($('a[data-href="'+locationHash+'"]').parents(".one-page-menu").length>0){windowEl.on("beforeunload",(function(){windowEl.scrollTop(0)})),windowEl.scrollTop(0);let e=$(locationHash);e.length>0&&setTimeout((function(){let t=e.offset().top,a=JSON.parse(e.attr("data-onepage-settings"));$("html,body").stop(!0,!0).animate({scrollTop:t-Number(a.offset)},a.speed,a.easing)}),1200)}windowEl.scrollEnd((function(){SEMICOLON_onePageScroller()}),500),$onePageMenu.each((function(){let t=$(this);onePageMenuActiveClass=t.attr("data-active-class")||"current",$onePageMenu=t,t.hasClass("no-offset")&&(elOffset=0);let a=t.find("a[data-href]");a.each((function(){let e=$(this).attr("data-href"),t=$(e),a=SEMICOLON_onePageSettings(e,$('a[data-href="'+e+'"]'));t.length>0&&setTimeout((function(){t.attr("data-onepage-settings",JSON.stringify(a)),$pageSectionEl=$("[data-onepage-settings]")}),1e3)})),a.off("click").on("click",(function(){let a=$(this).attr("data-href"),n=$(a);if(n.length>0){let o=JSON.parse(n.attr("data-onepage-settings"));t.find("li").removeClass(onePageMenuActiveClass),t.find('a[data-href="'+a+'"]').parent("li").addClass(onePageMenuActiveClass),(windowWidth<992||$body.hasClass("overlay-menu"))&&(e.parents(".primary-menu").filter(":not(.mobile-menu-off-canvas)").find(".menu-container").stop(!0,!0).slideUp(200),$("#page-menu").toggleClass("page-menu-open",!1),$body.toggleClass("primary-menu-open",!1)),setTimeout((function(){let e=n.offset().top;$("html,body").stop(!0,!0).animate({scrollTop:e-Number(o.offset)},Number(o.speed),o.easing)}),250)}return!1}))}))},window.SEMICOLON_onePageScroller=function(){$onePageMenu.find("[data-href]").parent().removeClass(onePageMenuActiveClass),$onePageMenu.find('[data-href="#'+SEMICOLON_onePageCurrentSection()+'"]').parent().addClass(onePageMenuActiveClass)},window.SEMICOLON_onePageCurrentSection=function(){let e;return void 0===$pageSectionEl||($pageSectionEl.each((function(t){let a=$(this),n=JSON.parse(a.attr("data-onepage-settings")),o=a.offset().top-n.offset-5,s=windowEl.scrollTop();s>=o&&s<o+a.height()&&a.attr("id")!=e&&(e=a.attr("id"))})),e)},window.SEMICOLON_onePageSettings=function(e,t){if("undefined"===e&&t.length<1)return!0;let a={},n=t,o=t.parents(".one-page-menu"),s=($(e).offset().top,n.attr("data-speed")),i=n.attr("data-offset"),l=n.attr("data-easing");s||(s=o.attr("data-speed")||1250),l||(l=o.attr("data-easing")||"easeOutQuad"),i||(t=o,i=o.attr("data-offset")||SEMICOLON.initialize.topScrollOffset());let d=t.attr("data-offset-xxl"),r=t.attr("data-offset-xl"),f=t.attr("data-offset-lg"),u=t.attr("data-offset-md"),g=t.attr("data-offset-sm"),c=t.attr("data-offset-xs");return d||(d=Number(i)),r||(r=Number(d)),f||(f=Number(r)),u||(u=Number(f)),g||(g=Number(u)),c||(c=Number(g)),$body.hasClass("device-xxl")?i=d:$body.hasClass("device-xl")?i=r:$body.hasClass("device-lg")?i=f:$body.hasClass("device-md")?i=u:$body.hasClass("device-sm")?i=g:$body.hasClass("device-xs")&&(i=c),a.offset=i,a.speed=s,a.easing=l,a};